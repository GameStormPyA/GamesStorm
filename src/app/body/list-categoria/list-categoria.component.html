<div class="row col-8" >
    <div class="col-4 text-left">
        <button mat-raised-button [routerLink]="['/Home']"  color="warn">Volver</button >
    </div>
    <div class="col-8 text-left">
        <h2>Listado de Categoria</h2>
    </div>
</div>
<div class="row col-12">
<div class="mat-elevation-z8 col-8 ml-2">
<table mat-table [dataSource]="listaCategoria"  style="width:100%;">
    <ng-container matColumnDef="Id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let Categoria"> {{Categoria.Id}} </td>
    </ng-container>
    <ng-container matColumnDef="Nombre">
      <th mat-header-cell *matHeaderCellDef>Nombre</th>
      <td mat-cell *matCellDef="let Categoria">{{Categoria.Nombre}}</td>
  </ng-container>
    <!--Editar Categoria-->
    <ng-container matColumnDef="Editar">
        <th mat-header-cell *matHeaderCellDef>Editar</th>
        <td mat-cell *matCellDef="let Categoria" >
            <button (click)="EditarCategorias(Categoria)" mat-icon-button>
                <mat-icon color="primary">edit</mat-icon>
            </button>
        </td>
    </ng-container>
    <!--Eliminar Categoria-->
    <ng-container matColumnDef="Eliminar">
        <th mat-header-cell *matHeaderCellDef>Eliminar</th>
        <td mat-cell *matCellDef="let Categoria" >
            <button (click)="eliminarCategorias(Categoria)" mat-icon-button>
                <mat-icon color="warn">delete</mat-icon>
            </button>
        </td>
    </ng-container>
    

    <tr mat-header-row *matHeaderRowDef="columndefs"></tr>
    <tr mat-row *matRowDef="let Categoria; columns: columndefs;"></tr>
</table>
<mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>
</div>

<div class="col-3 ml-2" style="width: 18rem;">
    <div class="card-body border">
      <h2 class="card-title">Agregar Categoria</h2>
      <form (ngSubmit)="onSubmit()" #formAccesorio="ngForm" [formGroup]="LoginCategoria">
       
        <mat-form-field>
            <input matInput [(ngModel)]="CategoriaModel.Nombre" type="text" placeholder="Nombre" formControlName="Nombre">
            <mat-error *ngIf="isValidField('Nombre')" >
                {{ getErrorMessage("Nombre") }} 
            </mat-error>
        </mat-form-field>
    <p>
        <button [disabled]="LoginCategoria.invalid" type="submit" mat-flat-button color="accent">Guardar</button>
    </p>
    </form>
    </div>
    <div class="card-body border mt-2" *ngIf="disabled">
        <h2 class="card-title">Editar Categoria</h2>
        <form (ngSubmit)="Submit()" #formAccesorio="ngForm" [formGroup]="LoginEditCategoria">
            <mat-form-field>
                <input matInput  [(ngModel)]="listaEditCategoria.Nombre" type="text" placeholder="Nombre"  formControlName="Nombre">
                <mat-error *ngIf="isValidField('Nombre')" >
                    {{ getErrorMessage("Nombre") }} 
                </mat-error>
            </mat-form-field>
            <p>
                <button [disabled]="LoginEditCategoria.invalid" type="submit" mat-flat-button color="accent">Guardar</button>
                &nbsp;
                <button (click)="cancelar()" type="button" mat-flat-button color="primary">Cancelar</button>
            </p>
        </form>
    </div>

</div>

